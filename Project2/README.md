# Project2 - (기능앱 만들기)





### 웹툰앱



네이버 웹툰을 이용하여 웹툰앱 제작을 한다.



| 시작화면 | 탭 또는 스와이프로 화면 이동 | 마지막 시점 돌아가기 | 탭 이름 바꾸기 |
| :------: | :--------------------------: | :------------------: | :------------: |
|    ![1](https://user-images.githubusercontent.com/56026214/213439430-57ca186b-9e5f-4820-9e74-e9576682184c.jpg)| <img width="1000" alt="2" src="https://user-images.githubusercontent.com/56026214/213439450-ff246f80-60f6-43ef-bdd4-b1aa5567f3ba.png"> |![3](https://user-images.githubusercontent.com/56026214/213439464-754dc2b1-18c0-4621-a627-2e0da489e888.jpg)|![4](https://user-images.githubusercontent.com/56026214/213439509-81302010-d9c6-452f-91fc-a2e51ddc8d65.jpg)|



1. 시작 화면 - 시작하면 네이버 웹툰이 나타난다. 탭에는 월요일, 화요일, 수요일 웹툰 탭이 있으며
   					아래에는 두 버튼이 있다.
2. 탭 또는 스와이프로 화면 이동 - 손가락으로 옆으로 밀거나, 탭을 누르게 되면 각각의 네이버 웹툰 화면을 보여준다.
3. 마지막 시점 돌아가기 - 해당 만화를 보고 다른 페이지로 이동할 때, 앱을 나갔다가 다시 들어온 경우 이 버튼을 누르게 되면 가장 최근에 봤던 웹툰으로 이동하게 된다.
4. 탭 이름 바꾸기 - 탭 이름 바꾸기를 누르면 다이얼로그가 생성되며 생성된 다이얼로그에 입력하게 되면 해당 탭 페이지의 이름이 바뀌게 된다. 이 또한 앱을 나가고 다시 들어와도 변경된 탭 이름이 유지된다.



마지막 시점 돌아가기 버튼과, 탭 이름 바꾸기 버튼은 SharedPreference를 이용하여 데이터를 저장하고 불러오도록 했다.

뷰 페이저와 탭(TabLayoutMediator)을 이용하여 스와이프를 이용 그리고 탭을 눌렀을 때 화면 전환이 이뤄지도록 했다.

각 프레그먼트를 이용하여 화면을 나타나도록 하였다. 





---



### 녹음기 기능



녹음 기능 및 녹음한 것을 들을 수 있도록  하는 기능을 만들었다.

녹음을 시작하기 위한 권한 설정에 관련된 부분을 AlertDialog를 이용하여 설정하라는 문구를 만들었으며

설정을 계속 거부할 시 앱 세팅 화면으로 넘어가 설정을 해달라는 문구를 만들었다.



| 시작 화면 | 녹음 시작 버튼 누를 경우 권한 설정 | 권한 허용하기 누를 경우 | 권한 허용하지 않은 경우 |
| --------- | ---------------------------------- | ----------------------- | ----------------------- |
|  ![7](https://user-images.githubusercontent.com/56026214/213930244-b25f583d-9d18-426d-840d-2beb39c8bc37.png)| ![1](https://user-images.githubusercontent.com/56026214/213930182-94d2755b-2b91-41f1-8738-b8919fbf1947.jpg)|              ![2](https://user-images.githubusercontent.com/56026214/213930255-fb107119-4eb9-4754-bebf-0d4e34df453c.png)|             ![3](https://user-images.githubusercontent.com/56026214/213930259-17f04bb7-9488-4149-bad4-ccb3fd475ae6.png)|



| 앱 세팅 화면 | 권한을 허용 한 뒤 녹음을 시작한 경우 | 녹음 완료 후 시작 버튼 누른 경우|
| ------------ | ------------------------------------ | ---------------------- |
|![6](https://user-images.githubusercontent.com/56026214/213930273-38c7a713-e77e-485b-bc8f-51f357c689c7.png)|![4](https://user-images.githubusercontent.com/56026214/213930288-68617dcd-30fb-4588-b561-82ebbd447e41.jpg)|![5](https://user-images.githubusercontent.com/56026214/213930296-2582f92a-080e-494a-91c0-0d9bc868ed21.jpg)|



1. 시작 화면 - 타이머와 녹음 크기를 보여주는 화면 그리고 3개의 버튼이 있다.
2. 권한 설정 문구가 나오며 권한허용을 누를 지 취소할 지 선택할 수 있다.
3. 권한 허용 누르면 마이크에 대한 권한 설정을 하는 정보가 보여진다.
4. 허용하지 않는 경우 앱 세팅 화면에서 변경할 수 있다는 문구를 보여주며 앱 설정 화면으로 넘어 갈지 취소할 지 선택할 수 있는 다이얼로그가 나온다.
5. 권한 변경 앱 세팅화면으로 넘어간 화면이다.
6. 녹음을 시작하면 타이머가 움직이며 가운데 빨간 원이 정지 버튼으로 바뀌고 플레이 버튼은 활성화가 안되도록 변경된다.
7. 녹음을 다 완료하고 정지한 경우 다시 플레이가 활성화 되는데, 이를 누르면 저장된 녹음이 다시 시작된다.

목소리의 크기를 보여주는 파장은 녹음을 시작할 때 시간에 따라 파장이 오른쪽으로 넘어가는 느낌이 되도록 구현하였으며
녹음을 한 후 다시 시작하면 다시 처음부터 녹음된 파장이 보이도록 하였다.

----



### 서버 데이터 받기



서버에서 보낸 데이터를 앱이 IP를 입력하면 해당 데이터를 받아 화면에 나타나도록 하는 기능을 만들었다.

애뮬레이터로 작동을 하여 localhost는 10.0.2.2로 설정하면 해당 데이터를 받을 수 있다.



아래는 소켓을 사용하여 데이터를 보내는 코드이다.

![1](https://user-images.githubusercontent.com/56026214/214000236-bd74169a-9b9b-4512-81b9-97c19537e9f4.png)



이 코드를 실행하고 크롬에서 localhost:8080을 실행하면 아래와 같은 화면이 나온다.


![2](https://user-images.githubusercontent.com/56026214/214000258-27871c0b-ba1e-4c64-a665-436b0dd97eef.png)


앱을 실행하면 아래와 같이 서버 호스트를 받는 Text와 버튼이 있다.

![3](https://user-images.githubusercontent.com/56026214/214000276-767d8063-a99a-4b5d-a6e3-6cdbcdd6edae.png)



호스트를 입력하고 버튼을 누르면 해당 데이터를 받을 수 있다.

Json 형식으로 되어있으며 해당 json을 data class인 Message에서 message를 가져오도록 하였다.

가져온 message를 보여주는 것으로 아래와 같이 Hello World가 뜨는 것을 볼 수 있다.

안드로이드 스튜디오는 소켓이 아닌 OkHttpClient()를 이용하였다.

![4](https://user-images.githubusercontent.com/56026214/214000298-eb95a44b-cdd2-439c-8bd3-85cadee84501.png)


아래는 실행 영상입니다. 실행하기 전에 소켓을 사용한 코드를 실행하요 크롬에서 localhost:8080이 제대로 작동된 상태에서 실행한 영상이다.

[video.webm](https://user-images.githubusercontent.com/56026214/214000527-01ef4415-1ca2-467f-a9fd-ef1dfe052008.webm)


